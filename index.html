<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traverten Türkiye Haritası</title>
    
    <style>
       body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f1f4f2; /* Doğal, çok uçuk bir orman yeşili/gri tonu */
            background-image: radial-gradient(#c4d0c9 1.5px, transparent 1.5px); /* İnce harita noktaları */
            background-size: 25px 25px; /* Noktaların genişliği */
            margin: 0;
            padding: 20px;
        }

        /* Başlık için özel ayarlar ve renk geçişi (transition) */
        #harita-basligi { 
            text-align: center; 
            color: #72e98b; 
            transition: color 0.3s ease;
            min-height: 40px; /* Yazı değişirken sayfanın zıplamasını engeller */
        }

        #harita-alani {
            width: 100%;
            max-width: 900px;
            margin: 0 auto; 
            display: block;
        }

        #harita-alani svg { width: 100%; height: auto; }

        #harita-alani svg path {
            fill: #109748 !important; 
            stroke: #ffffff; 
            stroke-width: 1.5;
            cursor: pointer;
            transition: all 0.3s ease; 
            transform-origin: center;  
            transform-box: fill-box;   
        }

        /* İlin Üzerine Gelince (Koyu Kırmızı ve Büyüme) */
        #harita-alani svg path:hover {
            fill: #72e98b !important; 
            transform: scale(1.2); 
        }
    </style>
</head>
<body>

    <h2 id="harita-basligi">Lütfen Bir İl Seçiniz</h2>

    <div id="harita-alani">
        <p style="text-align:center; color:#72e98b;">Harita yükleniyor...</p>
    </div>

 <script>
        fetch('turkey.svg')
            .then(response => response.text())
            .then(svgKod => {
                document.getElementById('harita-alani').innerHTML = svgKod;

                // Yine çizimleri (path) seçiyoruz çünkü fareyle onların üstüne geleceğiz
                const iller = document.querySelectorAll("#harita-alani svg path");
                
                const haritaBasligi = document.getElementById("harita-basligi");
                const varsayilanYazi = "Lütfen Bir İl Seçiniz";

                iller.forEach(il => {
                    // Fare ilin (çizimin) üzerine geldiğinde
                    il.addEventListener("mouseenter", function() {
                        
                        // İŞTE YENİ SİHRİMİZ BURADA: 
                        // "this.parentNode" diyerek path'in dışındaki <g> etiketine ulaşıyoruz.
                        // Sonra da onun içindeki 'data-city-name' bilgisini okuyoruz.
                        const ilAnaGrubu = this.parentNode;
                        const sehirAdi = ilAnaGrubu.getAttribute("data-city-name");
                        
                        // Eğer gerçekten bir isim bulduysak başlığa yazdır
                        if (sehirAdi) {
                            haritaBasligi.innerText = sehirAdi;
                            haritaBasligi.style.color = "#72e98b"; 
                        }
                    });

                    // Fare ilden çıkınca
                    il.addEventListener("mouseleave", function() {
                        haritaBasligi.innerText = varsayilanYazi;
                        haritaBasligi.style.color = "#109748"; 
                    });

                    // Tıklanınca yeni sayfaya gitme
                    il.addEventListener("click", function() {
                        const ilAnaGrubu = this.parentNode;
                        // İlin küçük harfli ID'sini alıyoruz (örn: "adana")
                        const ilID = ilAnaGrubu.getAttribute("id"); 
                        
                        if (ilID) {
                            window.location.href = "sehir.html?il=" + ilID;
                        }
                    });
                });
            })
            .catch(hata => console.error("Harita Yükleme Hatası:", hata));
    </script>

</body>
</html>